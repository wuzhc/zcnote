# 微服务

## 微服务工具集 go-kit 


## 服务注册与发现 consul
### docker安装consul
```bash
docker pull consul:1.6.0
docker run -p 8500:8500 consul:1.6.0
http://localhost:8500/
```

## 数据库gorm


## 读取配置文件 viper
如何加载配置配置,配置文件应该是给项目中每个文件调用的,那么应该作为一个全局类,这个全局类应该是定义在哪里呢?
**[https://github.com/spf13/viper](https://github.com/spf13/viper)**
- 设置默认值
- 从JSON、TOML、YAML、HCL和Java properties文件中读取配置数据
- 可以监视配置文件的变动、重新读取配置文件
- 从环境变量中读取配置数据
- 从远端配置系统中读取数据，并监视它们（比如etcd、Consul）
- 从命令参数中读物配置
- 从buffer中读取
- 调用函数设置配置信息

## 限流
首先创建一个rate.Limiter，其有两个参数，第一个参数为允许每秒发生多少次事件，第二个参数是其缓存最大可存多少个事件。这个桶一开始容量为b，装满b个token，然后每秒往里面填充r个token。由于令牌桶中最多有b个token，所以一次最多只能允许b个事件发生，一个事件花费掉一个token。


## 熔断器


## jwt安全认证


## 消息订阅发布


## 日志记录


## 错误处理


## 文件目录


## 链路追踪

## 远程调用

## 负载均衡

## 服务容错

## 配置管理 （多个服务共享一份配置）

## 服务监控

## 任务调度



# 运维问题

## 服务自愈

## 弹性伸缩

## 服务隔离

## 自动化部署

## 灰度发布

## 流量治理



